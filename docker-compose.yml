version: "3.8"

services:
  mongo:
    image: mongo
    restart: unless-stopped
    ports:
      - 27017:27017 #TODO: env
    volumes:
      - ${MONGODB_LOCAL_VOLUME}:/data/db
    environment:
      MONGO_INITDB_ROOT_USERNAME: root #TODO: env
      MONGO_INITDB_ROOT_PASSWORD: example #TODO: env
    container_name: mongo

#  server:
#    build:
#      context: .
#      dockerfile: ./docker/server/Dockerfile
#    ports:
#      - ${SERVER_PORT}:${SERVER_PORT}
#    volumes:
#      - ./src:/usr/src/app/src
#      - ./prisma:/usr/src/app/prisma
#      - ./.env:/usr/src/app/.env
#      - ./package.json:/usr/src/app/package.json
#      - ./package-lock.json:/usr/src/app/package-lock.json
#    stdin_open: true
#    tty: true
#    container_name: server
#
#  handler:
#    build:
#      context: .
#      dockerfile: ./docker/handler/Dockerfile
#    volumes:
#      - ./src:/usr/src/app/src
#      - ./prisma:/usr/src/app/prisma
#      - ./.env:/usr/src/app/.env
#      - ./package.json:/usr/src/app/package.json
#      - ./package-lock.json:/usr/src/app/package-lock.json
#    stdin_open: true
#    tty: true
#    container_name: handler

networks:
  default:
    driver: bridge
    name: debezium_default
